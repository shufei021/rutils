{"version":3,"file":"index.js","sources":["../../../src/lib/url/index.js","../../../src/lib/url/getQuery.js","../../../src/lib/url/urlSerialize.js","../../../src/lib/url/urlTmtFmt.js"],"sourcesContent":["import getQuery from './getQuery'\r\nimport urlSerialize from './urlSerialize'\r\nimport urlTmtFmt from './urlTmtFmt'\r\n\r\nexport default {\r\n    getQuery,\r\n    urlSerialize,\r\n    urlTmtFmt\r\n}\r\n","/**\r\n * 获取url查询参数\r\n * @param {String} url ：url地址\r\n */\r\nconst getQuery = function (url = window.location.href) {\r\n    try {\r\n        return url.includes('?')\r\n            ? url\r\n                  .split('?')[1]\r\n                  .match(/([^&=]*)=([^&]*)/g)\r\n                  .reduce((p, c) => ((p[c.split('=')[0]] = decodeURIComponent(c.split('=')[1])), p), {})\r\n            : {}\r\n    } catch (e) {\r\n        return {}\r\n    }\r\n}\r\nexport default getQuery\r\n\r\n/***\r\n *\r\n * getQuery() //\r\n * getQuery('https://juejin.cn/search?query=%E8%B6%85%E8%84%B1%E8%87%AA%E7%84%B6') // {query: \"超脱自然\"}\r\n *\r\n *\r\n *\r\n */\r\n","/**\r\n * url参数序列化\r\n * @param { String } baseURL ：url地址\r\n * @param { Object } params  ：参数对象\r\n * @return 参数序列化后的字符串\r\n */\r\nconst urlSerialize = function (baseURL, params = {}) {\r\n    return Object.keys(params).reduce((p, c) => (p += (p === baseURL ? '?' : '&') + `${c}=${encodeURIComponent(params[c])}`), baseURL)\r\n}\r\nexport default urlSerialize\r\n\r\n/**\r\n *\r\n *\r\n * urlSerialize('https://juejin.cn/search',{query:'javascript'}) // \"https://juejin.cn/search?query=javascript\"\r\n *\r\n */\r\n","/*\r\n * @Author: your name\r\n * @Date: 2021-06-06 15:43:56\r\n * @LastEditTime: 2021-06-06 15:44:29\r\n * @LastEditors: your name\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\rutils\\src\\lib\\url\\urlTmtFmt.js\r\n */\r\n/**\r\n * url模板 参数格式化(get请求url模板)\r\n *\r\n *  @param {String}  URL: 模板路径，例：'/uap/msg/announcementRecord/{sysId}/{tenantId}/{userId}' 或 '/uap/msg/announcementRecord'\r\n *  @param {Object}  params: 传入的参数，包含路径参数 或 不包含\r\n *  @param {Boolean} flag：是否拼接路径和查询参数\r\n */\r\nconst urlTmtFmt = function (urlTmp, params = {}) {\r\n    let url = /\\{(\\w+)\\}/g.test(urlTmp)\r\n        ? urlTmp.replace(/\\{(\\w+)\\}/g, (_, b) => {\r\n              let tmp = params[b]\r\n              delete params[b]\r\n              return tmp\r\n          })\r\n        : urlTmp\r\n    return Object.keys(params).length ? Object.keys(params).reduce((pre, cur) => (pre += (pre === url ? '?' : '&') + `${cur}=${params[cur]}`), url) : url\r\n}\r\n\r\nexport default urlTmtFmt\r\n/**\r\n *\r\n * urlTmtFmt('/uap/msg/announcementRecord/{sysId}/{tenantId}/{userId}', { sysId: 111, tenantId: 222, userId: 333 })\r\n * // /uap/msg/announcementRecord/111/222/333\r\n * urlTmtFmt('/uap/msg/announcementRecord/{sysId}/{tenantId}/{userId}', { sysId: 111, tenantId: 222, userId: 333,age:10 })\r\n * // /uap/msg/announcementRecord/111/222/333?age=10\r\n *\r\n *\r\n *\r\n *\r\n */\r\n"],"names":["getQuery","url","window","location","href","includes","split","match","reduce","p","c","decodeURIComponent","e","urlSerialize","baseURL","params","Object","keys","encodeURIComponent","urlTmtFmt","urlTmp","test","replace","_","b","tmp","length","pre","cur"],"mappings":"+LAIe,CACXA,SCDa,SAAA,OAAUC,+BAAV,EAAA,EAAgBC,OAAOC,SAASC,gBAElCH,EAAII,SAAS,KACdJ,EACKK,MAAM,KAAK,GACXC,MAAM,qBACNC,OAAO,SAACC,EAAGC,UAAQD,EAAEC,EAAEJ,MAAM,KAAK,IAAMK,mBAAmBD,EAAEJ,MAAM,KAAK,IAAMG,GAAI,IACvF,GACR,MAAOG,SACE,KDPXC,aEAiB,SAAUC,EAAV,OAAmBC,+BAAnB,EAAA,EAA4B,UACtCC,OAAOC,KAAKF,GAAQP,OAAO,SAACC,EAAGC,UAAOD,IAAMA,IAAMK,EAAU,IAAM,eAAUJ,cAAKQ,mBAAmBH,EAAOL,OAAQI,IFA1HK,UGQc,SAAUC,EAAV,OAAkBL,+BAAlB,EAAA,EAA2B,GACrCd,EAAM,aAAaoB,KAAKD,GACtBA,EAAOE,QAAQ,aAAc,SAACC,EAAGC,OACzBC,EAAMV,EAAOS,iBACVT,EAAOS,GACPC,IAEXL,SACCJ,OAAOC,KAAKF,GAAQW,OAASV,OAAOC,KAAKF,GAAQP,OAAO,SAACmB,EAAKC,UAASD,IAAQA,IAAQ1B,EAAM,IAAM,eAAU2B,cAAOb,EAAOa,MAAS3B,GAAOA"}