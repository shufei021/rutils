{"version":3,"file":"index.js","sources":["../../../src/lib/dom/setAttr.js","../../../src/lib/dom/index.js","../../../src/lib/dom/bindEvent.js","../../../src/lib/dom/bufferAnimation.js","../../../src/lib/dom/constantAnimation.js","../../../src/lib/dom/debounce.js","../../../src/lib/dom/fromData.js","../../../src/lib/dom/getStyle.js","../../../src/lib/dom/hide.js","../../../src/lib/dom/isEllipsis.js","../../../src/lib/dom/throttle.js","../../../src/lib/dom/trigger.js","../../../src/lib/dom/unbindEvent.js","../../../src/lib/dom/getAttr.js","../../../src/lib/dom/getMaxZIndex.js","../../../src/lib/dom/bottomVisible.js","../../../src/lib/dom/scrollToTop.js","../../../src/lib/dom/smoothScroll.js","../../../src/lib/dom/getScrollPosition.js","../../../src/lib/dom/backTop.js","../../../src/lib/dom/contains.js","../../../src/lib/dom/getScrollXY.js","../../../src/lib/dom/dynamicAddCss.js","../../../src/lib/dom/dynamicAddScript.js","../../../src/lib/dom/createElement.js","../../../src/lib/base/getType.js","../../../src/lib/dom/isScrollBottom.js","../../../src/lib/dom/isScrollerVisible.js","../../../src/lib/dom/getElementByClassName.js","../../../src/lib/dom/getScrollDirection.js","../../../src/lib/dom/getScrollerWidth.js","../../../src/lib/dom/selectRangeByElement.js","../../../src/lib/dom/selectTextByElement.js","../../../src/lib/dom/addStyleCss.js","../../../src/lib/dom/copyText.js","../../../src/lib/dom/domWatch.js","../../../src/lib/dom/getElementByTarget.js"],"sourcesContent":["/**\r\n * 设置元素属性\r\n * @param {Object}} attrs\r\n */\r\nconst setAttr = function (el, attrs) {\r\n    for (const key in attrs) {\r\n        el.setAttribute(key, attrs[key])\r\n    }\r\n    return el\r\n}\r\nexport default setAttr\r\n","import bindEvent from \"./bindEvent\";\r\nimport bufferAnimation from \"./bufferAnimation\";\r\nimport constantAnimation from \"./constantAnimation\";\r\nimport debounce from \"./debounce\";\r\nimport fromData from \"./fromData\";\r\nimport getStyle from \"./getStyle\";\r\nimport hide from \"./hide\";\r\nimport isEllipsis from \"./isEllipsis\";\r\nimport throttle from \"./throttle\";\r\nimport trigger from \"./trigger\";\r\nimport unbindEvent from \"./unbindEvent\";\r\nimport getAttr from \"./getAttr\";\r\nimport setAttr from \"./setAttr\";\r\nimport getMaxZIndex from \"./getMaxZIndex\";\r\nimport bottomVisible from \"./bottomVisible\";\r\nimport scrollToTop from \"./scrollToTop\";\r\nimport smoothScroll from \"./smoothScroll\";\r\nimport getScrollPosition from \"./getScrollPosition\";\r\nimport backTop from \"./backTop\";\r\nimport contains from \"./contains\";\r\nimport getScrollXY from \"./getScrollXY\";\r\nimport dynamicAddCss from \"./dynamicAddCss\";\r\nimport dynamicAddScript from \"./dynamicAddScript\";\r\nimport createElement from \"./createElement\";\r\nimport isScrollBottom from \"./isScrollBottom\";\r\nimport isScrollerVisible from \"./isScrollerVisible\";\r\nimport getElementByClassName from \"./getElementByClassName\";\r\nimport getScrollDirection from \"./getScrollDirection\";\r\nimport getScrollerWidth from \"./getScrollerWidth\";\r\nimport selectRangeByElement from \"./selectRangeByElement\";\r\nimport selectTextByElement from \"./selectTextByElement\";\r\nimport addStyleCss from \"./addStyleCss\";\r\nimport copyText from \"./copyText\";\r\nimport domWatch from \"./domWatch\";\r\nimport getElementByTarget from \"./getElementByTarget\";\r\n\r\nexport default {\r\n    bindEvent,\r\n    bufferAnimation,\r\n    constantAnimation,\r\n    debounce,\r\n    fromData,\r\n    getStyle,\r\n    hide,\r\n    isEllipsis,\r\n    throttle,\r\n    trigger,\r\n    unbindEvent,\r\n    getAttr,\r\n    setAttr,\r\n    getMaxZIndex,\r\n    bottomVisible,\r\n    scrollToTop,\r\n    smoothScroll,\r\n    getScrollPosition,\r\n    backTop,\r\n    contains,\r\n    getScrollXY,\r\n    dynamicAddCss,\r\n    dynamicAddScript,\r\n    createElement,\r\n    isScrollBottom,\r\n    isScrollerVisible,\r\n    getElementByClassName,\r\n    getScrollDirection,\r\n    getScrollerWidth,\r\n    selectRangeByElement,\r\n    selectTextByElement,\r\n    addStyleCss,\r\n    copyText,\r\n    domWatch,\r\n    getElementByTarget\r\n};\r\n","/**\r\n * @description: 绑定事件\r\n * @param :\r\n * @return {*}\r\n */\r\nconst bindEvent = function (obj, ev, fn) {\r\n    obj.addEventListener ? obj.addEventListener(ev, fn, false) : obj.attachEvent('on' + ev, fn)\r\n}\r\nexport default bindEvent\r\n","/**\r\n * @description: 缓冲动画：left => 从左向右作缓冲动画运动 top => 从上向下作缓冲动画运动 负值可以达到4个方向的缓冲动画\r\n * @param {Element} el: 作用的dom\r\n * @param {Number} target : 坐标目的地\r\n * @param {String} direction : 方向\r\n */\r\nconst bufferAnimation = function (el, target, direction = 'left') {\r\n    el = typeof el === 'string' ? document.querySelector(el) : el\r\n    if (!el) return\r\n    let offset = direction === 'left' ? 'offsetLeft' : 'offsetTop'\r\n    //清除历史定时器\r\n    clearInterval(el.timer)\r\n    //开启定时器\r\n    el.timer = setInterval(function () {\r\n        //获取步长 确定移动方向(正负值) 步长应该是越来越小的，缓动的算法。\r\n        let step = Math.ceil((target - el[offset]) / 10)\r\n        //到达目标位置\r\n        if (el[offset] == target) {\r\n            //清除定时器\r\n            clearInterval(el.timer)\r\n        } else {\r\n            el.style[direction === 'left' ? 'left' : 'top'] = el[offset] + step + 'px'\r\n        }\r\n    }, 30)\r\n}\r\nexport default bufferAnimation\r\n","/**\r\n * @description: 均速动画\r\n * @param {Element} el: 作用的dom\r\n * @param {Number} target : 坐标目的地\r\n * @param {String} direction : 方向\r\n */\r\nconst constantAnimation = function (el, target, direction = 'left') {\r\n    el = typeof el === 'string' ? document.querySelector(el) : el\r\n    if (!el) return\r\n    let offset = direction === 'left' ? 'offsetLeft' : 'offsetTop'\r\n    //清除历史定时器\r\n    clearInterval(el.timer)\r\n    //匀速度值\r\n    let speed = target > el[offset] ? 5 : -5\r\n    //开启定时器\r\n    el.timer = setInterval(function () {\r\n        //到达目标位置\r\n        if (el[offset] == target) {\r\n            //清除定时器\r\n            clearInterval(el.timer)\r\n        } else {\r\n            el.style[direction] = el[offset] + speed + 'px'\r\n        }\r\n    }, 30)\r\n}\r\nexport default constantAnimation\r\n","/*\r\n * @Author: your name\r\n * @Date: 2021-06-03 22:50:18\r\n * @LastEditTime: 2021-06-06 00:33:28\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\rutils\\src\\lib\\dom\\debounce.js\r\n */\r\n/**\r\n * @description:防抖\r\n * @param { Function } func : 防抖的事件响应函数\r\n * @param { Number } wait ：事件响应函数执行需求的单位时间\r\n * @param { Boolean } immediate ：是否立即执行\r\n * @return 内部函数执行结果（返回的对象身上可以调用取消功能）\r\n */\r\nconst debounce = function (func, wait, immediate) {\r\n    let timeout\r\n    let debounced = function () {\r\n        // 保存参数\r\n        let arg = arguments\r\n        // 保存 this\r\n        let context = this\r\n        // 如果 定时器 timeout 存在，就清除\r\n        if (timeout) clearTimeout(timeout)\r\n        // 如果立即触发\r\n        if (immediate) {\r\n            // callNow 变量 // true\r\n            let callNow = !timeout\r\n            // 定时器 wait 时间后 timeout 赋值为null\r\n            timeout = setTimeout(function () {\r\n                timeout = null\r\n            }, wait)\r\n            // 此时 callNow 为 true，直接只需回调函数 func\r\n            if (callNow) func.apply(context, arg)\r\n        } else {\r\n            // 正常触发\r\n            timeout = setTimeout(function () {\r\n                func.apply(context, arg)\r\n            }, wait)\r\n        }\r\n    }\r\n    debounced.cancel = function () {\r\n        clearTimeout(timeout)\r\n        timeout = null\r\n    }\r\n    return debounced\r\n}\r\nexport default debounce\r\n","/**\r\n *  JSON 转 fromData\r\n *  @param { Object } o 需要转成formData 的对象\r\n */\r\nexport default function fromData (o) {\r\n    return Object.keys(o).reduce((p, c) => !p.append(c, o[c]) && p, new FormData())\r\n}\r\n","/**\r\n * 返回指定元素的生效样式\r\n * @param {Element} el\r\n * @param {String} attr\r\n */\r\nconst getStyle = function (el, attr) {\r\n    el = typeof el === 'string' ? document.querySelector(el) : el\r\n    if (!el) return null\r\n    return {\r\n        left: el.offsetLeft,\r\n        top: el.offsetTop,\r\n        width: el.offsetWidth,\r\n        height: el.offsetHeight,\r\n        [attr]: el.currentStyle ? el.currentStyle[attr] : getComputedStyle(el)[attr]\r\n    }[attr]\r\n}\r\nexport default getStyle\r\n","/**\r\n * 隐藏所有的指定标签\r\n * @param  {...any} el\r\n */\r\nconst hide = function (el) {\r\n    Array.from(document.querySelectorAll(el)).forEach(\r\n        (e) => (e.style.display = \"none\")\r\n    );\r\n};\r\nexport default hide;\r\n","/**\r\n * @description: 内容是否超出省略\r\n * @param {Element} el\r\n */\r\nconst isEllipsis = function (el) {\r\n    return (\r\n        el.scrollHeight !== el.offsetHeight || el.scrollWidth !== el.offsetWidth\r\n    );\r\n};\r\n\r\nexport default isEllipsis;\r\n","/**\r\n * @description:节流\r\n * @param { Function } func : 节流的事件响应函数\r\n * @param { Number } wait ：事件响应函数执行需求的频率时间\r\n * @param { Object } options ：配置对象，包含两个值 immediate（是否立即执行）和 trailing（最后是否还执行一次）\r\n */\r\n// leading ：false trailing：true 第一次不会立即调用 离开了还会执行一次\r\n// leading ：true  trailing：true 第一次会立即调用 离开了还会执行一次\r\n// leading ：true  trailing：false 第一次会立即调用 离开了不会执行一次\r\n// 默认 是 options = { leading:true, trailing:true }\r\nconst throttle = function (func, wait, options) {\r\n    let timeout, context, args\r\n    let old = 0 //之前的时间\r\n    if (!options) options = {}\r\n    return function () {\r\n        context = this\r\n        args = arguments\r\n        // 获取当前的时间戳\r\n        let now = new Date().valueOf()\r\n        if (options.leading === false && !old) {\r\n            old = now\r\n        }\r\n        if (now - old > wait) {\r\n            // 第一次会立即执行\r\n            if (timeout) {\r\n                clearTimeout(timeout)\r\n                timeout = null\r\n            }\r\n            func.apply(context, args)\r\n            old = now\r\n        } else if (!timeout && options.trailing !== false) {\r\n            // 最后一次也会执行\r\n            timeout = setTimeout(() => {\r\n                old = new Date().valueOf()\r\n                timeout = null\r\n                func.apply(context, args)\r\n            }, wait)\r\n        }\r\n    }\r\n}\r\nexport default throttle\r\n","/**\r\n * 手动触发Node已有和自定义事件类型函数\r\n * @param {Element} Node :：触发对象\r\n * @param {String} EventType : 触发事件类型\r\n */\r\nconst trigger = function (Node, EventType) {\r\n    if(!Node)return\r\n    // 创建事件类型\r\n    let evt = document.createEvent('Events')\r\n    // 初始化对应类型的事件\r\n    evt.initEvent(EventType, true, true)\r\n    // 如果该节点身上已有该事件类型，则直接触发即可，blur, scroll, select三个不会触发监听的回调函数特殊处理\r\n    if (EventType in Node) {\r\n        Node[EventType]()\r\n        if (['blur', 'scroll', 'select'].includes(EventType)) {\r\n            // 保证监听的回调函数能够触发\r\n            Node.dispatchEvent(evt)\r\n        }\r\n    } else {\r\n        // 手动触发 自定义事件\r\n        Node.dispatchEvent(evt)\r\n    }\r\n}\r\nexport default trigger\r\n","/**\r\n * @description: 解绑事件\r\n * @param :\r\n * @return {*}\r\n */\r\nconst unbindEvent = function (obj, ev, fn) {\r\n    obj.removeEventListener ? obj.removeEventListener(ev, fn, false) : obj.detachEvent('on' + ev, fn)\r\n}\r\nexport default unbindEvent\r\n","/**\r\n * @description: 获取 元素的 属性\r\n * @param {*} el\r\n * @param {*} attrName\r\n */\r\nconst getAttr = function (el, attrName) {\r\n    try {\r\n        el = typeof el === 'string' ? document.querySelector(el) : el\r\n        return el.getAttribute(attrName)\r\n    } catch (error) {\r\n        return {}\r\n    }\r\n}\r\nexport default getAttr\r\n","/**\r\n * @description: 获取html页面dom中最大的层级数\r\n * @return Number\r\n */\r\nexport default function getMaxZIndex() {\r\n    return Math.max(...[...document.querySelectorAll('*')].map(i => parseInt(getComputedStyle(i).zIndex) || 1))\r\n}\r\n","/**\r\n * @description: 底部是否可见\r\n * @return {Boolean}\r\n */\r\nconst bottomVisible = function () {\r\n    return document.documentElement.clientHeight + window.scrollY >= (document.documentElement.scrollHeight || document.documentElement.clientHeight)\r\n}\r\nexport default bottomVisible\r\n","/**\r\n * @description: 顺滑的滚动到顶部\r\n */\r\nconst scrollToTop = function () {\r\n    const c = document.documentElement.scrollTop || document.body.scrollTop\r\n    if (c > 0) {\r\n        window.requestAnimationFrame(scrollToTop)\r\n        window.scrollTo(0, c - c / 8)\r\n    }\r\n}\r\nexport default scrollToTop\r\n","/**\r\n * @description: 顺滑的滚动到当前元素\r\n * @param {Element} element\r\n */\r\nconst smoothScroll = function (element) {\r\n    return document.querySelector(element).scrollIntoView({ behavior: 'smooth' })\r\n}\r\nexport default smoothScroll\r\n","/**\r\n * @description: 获取元素的滚动位置坐标\r\n * @param {Elemnt} el\r\n */\r\nconst getScrollPosition = function (el = window) {\r\n    return {\r\n        x: el.pageXOffset !== undefined ? el.pageXOffset : el.scrollLeft,\r\n        y: el.pageYOffset !== undefined ? el.pageYOffset : el.scrollTop\r\n    }\r\n}\r\nexport default getScrollPosition\r\n","/**\r\n * 回到顶部\r\n * 回到顶部元素的Id\r\n * @param {String} btnId\r\n */\r\nconst backTop = function (btnId, offset = 100) {\r\n    let btn = document.getElementById(btnId)\r\n    let d = document.documentElement\r\n    let b = document.body\r\n    window.onscroll = set\r\n    btn.style.display = 'none'\r\n    btn.onclick = function () {\r\n        btn.style.display = 'none'\r\n        window.onscroll = null\r\n        this.timer = setInterval(function () {\r\n            d.scrollTop -= Math.ceil((d.scrollTop + b.scrollTop) * 0.1)\r\n            b.scrollTop -= Math.ceil((d.scrollTop + b.scrollTop) * 0.1)\r\n            if (d.scrollTop + b.scrollTop == 0) clearInterval(btn.timer, (window.onscroll = set))\r\n        }, 10)\r\n    }\r\n    function set() {\r\n        btn.style.display = d.scrollTop + b.scrollTop > offset ? 'block' : 'none'\r\n    }\r\n}\r\nexport default backTop\r\n","/**\r\n * @description: 判断点击 dom 范围是否是 指定class 或是 class dom下面的孩子dom\r\n * @param { String | Element}: selector\r\n * @param { subSelector | subSelector}: subSelector\r\n * @return {Boolean}\r\n */\r\nconst contains = function (selector, subSelector) {\r\n    let p = typeof selector === 'string' ? document.querySelector(selector) : selector\r\n    let c = typeof subSelector === 'string' ? document.querySelector(subSelector) : subSelector\r\n    if (p && c) {\r\n        return p.contains(c)\r\n    } else {\r\n        return false\r\n    }\r\n}\r\nexport default contains\r\n","/**\r\n * @description: 获取网页被卷去的位置\r\n */\r\nconst getScrollXY = function () {\r\n    return document.body.scrollTop\r\n        ? {\r\n              x: document.body.scrollLeft,\r\n              y: document.body.scrollTop\r\n          }\r\n        : {\r\n              x: document.documentElement.scrollLeft,\r\n              y: document.documentElement.scrollTop\r\n          }\r\n}\r\nexport default getScrollXY\r\n","/**\r\n * 动态添加css文件\r\n * @param {String} cssName : css 名称 不带后缀\r\n * @param {String} prefix  ：css 前缀\r\n */\r\nconst dynamicAddCss = function (cssName, prefix = '') {\r\n    return new Promise(resolve => {\r\n        let link = document.createElement('link')\r\n        link.setAttribute('href', prefix + cssName + '.css')\r\n        link.setAttribute('type', 'text/css')\r\n        link.onload = () => resolve(link)\r\n        document.getElementsByTagName('head')[0].appendChild(link)\r\n    })\r\n}\r\nexport default dynamicAddCss\r\n","/**\r\n * 动态添加 js文件\r\n * @param {Array} scriptUrlArr : 需求动态添加的脚本URL数组\r\n * @param {Function} callback : 回调函数\r\n */\r\nconst dynamicAddScript = function (scriptUrlArr) {\r\n    return new Promise(resolve => {\r\n        scriptUrlArr.forEach(scriptUrl => {\r\n            let script = document.createElement('script')\r\n            script.setAttribute('src', scriptUrl)\r\n            document.body.appendChild(script)\r\n        })\r\n        window.onload = () => resolve()\r\n    })\r\n}\r\nexport default dynamicAddScript\r\n","import setAttr from \"./setAttr\";\r\nimport getType from \"../base/getType\";\r\n\r\n/**\r\n * 创建元素\r\n * @param {String} nodeName 元素类型\r\n * @param {Object} nodeAttrs 元素属性\r\n * @return {Element} 创建完成的元素\r\n */\r\nconst createElement = (elName='div', elAttrs) => {\r\n    const el = document.createElement(elName);\r\n    return getType(elAttrs) === \"object\" ? setAttr(el, elAttrs) : el;\r\n};\r\nexport default createElement\r\n","/**\r\n * @description: 获取数据类型\r\n * @param {*} value : 传入的值\r\n */\r\nconst getType = function getType(value) {\r\n    return Object.prototype.toString.call(value).slice(8, -1).toLowerCase()\r\n}\r\nexport default getType\r\n","/**\r\n * 元素是否滚动到最底部\r\n * @param {Element|String} el 需要检测的元素\r\n * @return {Boolean} true: 是，false: 否\r\n */\r\nconst isScrollBottom = (el) => {\r\n    el = typeof el === \"string\" ? document.querySelector(el) : el;\r\n    return el ? el.scrollHeight - el.scrollTop === el.clientHeight : false;\r\n};\r\n\r\nexport default isScrollBottom;\r\n","/**\r\n * @description 判断列表项元素是否出现在滚动可视区域\r\n * @param {String| Element} scrollerEl 滚动容器类或元素\r\n * @param {String| Element} wrapEl 滚动内容容器类 或元素\r\n * @param {String | Element} item 查询的列表项的类 或 类名\r\n * @returns Boolean 是否出现在滚动可视区域\r\n */\r\n export default function isScrollerVisible(scrollerEl, wrapEl, item) {\r\n    const scroller =typeof scrollerEl === 'string' ?  document.querySelector(scrollerEl):scrollerEl\r\n    const wrap =typeof wrapEl === 'string' ?  scroller.querySelector(wrapEl) : wrapEl\r\n    const activeItem = typeof item === 'string'? wrap.querySelector(item):item\r\n    const top = activeItem.getBoundingClientRect().top - wrap.offsetTop\r\n    return top>=0 && top <= scroller.offsetHeight - activeItem.offsetHeight\r\n}","/**\r\n * @Description 根据元素获取获取包含包含某个类的元素\r\n * @param {Element} el 指定元素\r\n * @param {String} className 指定元素的类\r\n * @returns Element\r\n */\r\nexport default function getElementByClassName(el, className) {\r\n    // 如果当前DOM身上存在传入的class类，直接返回该元素\r\n    if (el.classList.contains(className)) return el\r\n    // 查询该元素的父节点\r\n    let p = el.parentNode\r\n    // 自内向外循环查询每一层的父节点身上是否包含传入的class类\r\n    while (true) {\r\n        // 如果 查询到顶端，即document了，直接返回 null，未查询到\r\n        if (!p.classList) return null\r\n        // 如果查询到了，就返回该元素\r\n        if (p.classList.contains(className)) return p\r\n        // 父节点变量随着查询过程，不断更改为父节点\r\n        p = p.parentNode\r\n    }\r\n}\r\n","/**\r\n * @description 获取滚动方向\r\n * @param { Element | HTMLElement | Window | String} scroller 滚动容器元素\r\n * @returns Object {x,y}\r\n */\r\nexport default function getScrollDirection(scroller=window) {\r\n    // 兼容 window 和 DOM \r\n    scroller = scroller === window ? window : typeof scroller ==='string'? document.querySelector(scroller) : scroller\r\n    const scrollLeft = scroller === window ? scroller.scrollX : scroller.scrollLeft;\r\n    const scrollTop = scroller === window ? scroller.scrollY : scroller.scrollTop;\r\n    scroller = scroller === window ? getScrollDirection:scroller\r\n    // 兼容 页面刷新 window scroll 的 x和y轴的滚动情况\r\n    if(scroller.oldScrollLeft === undefined&&scroller.oldScrollTop === undefined && scrollTop && scrollLeft ){\r\n        scroller.oldScrollLeft = 0;\r\n        scroller.oldScrollTop = 0\r\n        scroller.oldScrollLeft = scrollLeft;\r\n        scroller.oldScrollTop = scrollTop;\r\n        return { x: true, y: true}\r\n    }\r\n    if (scroller.oldScrollLeft === undefined) scroller.oldScrollLeft = 0;\r\n    if (scroller.oldScrollTop === undefined) scroller.oldScrollTop = 0;\r\n    const is = scroller.oldScrollTop !== scrollTop;\r\n    scroller.oldScrollLeft = scrollLeft;\r\n    scroller.oldScrollTop = scrollTop;\r\n    return { x: !is, y: is };\r\n}\r\n","/**\r\n * 获取滚动条宽度\r\n * @param {*} el 滚动容器\r\n * @returns 滚动条宽度\r\n */\r\nexport default function getScrollerWidth(el) {\r\n    if (el) {\r\n        return new Promise((resolve, reject) => {\r\n            const content = document.createElement(\"div\");\r\n            content.innerHTML = \"1\";\r\n            el.appendChild(content);\r\n            setTimeout(() => {\r\n                const result = el.offsetWidth - content.offsetWidth;\r\n                el.removeChild(content);\r\n                resolve(result);\r\n            });\r\n        });\r\n    } else {\r\n        // 创建div\r\n        const scroller = document.createElement(\"div\");\r\n        scroller.style.cssText =\r\n            \"width:50px;height:50px;overflow: scroll;\";\r\n        scroller.innerHTML = \"<div>1</div>\";\r\n        document.body.appendChild(scroller);\r\n        const result = 50 - scroller.querySelector(\"div\").offsetWidth;\r\n        document.body.removeChild(scroller);\r\n        return result;\r\n    }\r\n}","/**\r\n * @description 通过元素进行范围选中\r\n * @param {Element} o \r\n * @param {Function} fn \r\n */\r\nexport default function selectRangeByElement(o, fn) {\r\n    const el = typeof o === 'string' ?  document.querySelector(o) : o;\r\n    el.onmouseup = function (event) {\r\n        const target = event.srcElement ? event.srcElement : event.target\r\n        const sText =\r\n            document.selection == undefined\r\n                ? document.getSelection().toString()\r\n                : document.selection.createRange().text\r\n        sText.length && fn(sText, target)\r\n    }\r\n    return el\r\n}\r\n\r\n/**\r\n * \r\n *  selectRangeByElement(document, (txt, tar)=> {\r\n      alert(\"文字属于\" + tar.tagName + \"元素，选中内容为：\" + txt);\r\n    });\r\n * \r\n */","/**\r\n * @description 设置元素里面文字呈选中状态\r\n * @param {Element | String} element \r\n */\r\nexport default function selectTextByElement(element) {\r\n  const text = typeof element === 'string' ?  document.querySelector(element) : element;\r\n  if (document.body.createTextRange) {\r\n    const range = document.body.createTextRange();\r\n    range.moveToElementText(text);\r\n    range.select();\r\n  } else if (window.getSelection) {\r\n    const selection = window.getSelection();\r\n    const range = document.createRange();\r\n    range.selectNodeContents(text);\r\n    selection.removeAllRanges();\r\n    selection.addRange(range);\r\n  }\r\n}","/**\r\n *  根据style 的id 找到对应的style 标签，在里面插入css, 如果没有找到则重新创建一个style插入到文档中\r\n * @param {String} styleId \r\n * @param {Array} arr \r\n * @returns element style\r\n */\r\nexport default function addStyleCss(styleId,arr){\r\n    const targetCss = [...document.styleSheets].find(i=>i.ownerNode.id === styleId)\r\n    if(targetCss){\r\n        for (let i=0;i<arr.length;i++)targetCss.insertRule(arr[i])\r\n        return targetCss\r\n    }else{\r\n        const style = document.createElement('style')\r\n        style.id = 'add_style_css_'+Date.now()\r\n        document.body.appendChild(style)\r\n        style.onload = ()=>{\r\n            const targetCss = [...document.styleSheets].find(i=>i.ownerNode.id === style.id)\r\n            for (let i=0;i<arr.length;i++)targetCss.insertRule(arr[i])\r\n        }\r\n        return style\r\n    }\r\n}","/**\r\n * @description 复制文本内容\r\n * @param {String} text \r\n */\r\nexport default function copyText(text) {\r\n    const input = document.createElement('input')\r\n    input.value = text // 修改文本框的内容\r\n    document.body.appendChild(input)\r\n    input.select() // 选中文本\r\n    document.execCommand('copy') // 执行浏览器复制命令\r\n    document.body.removeChild(input)\r\n}","/**\r\n * @ DOM 监听\r\n * @param {Element | string} tagNode \r\n * @param {Function} cb \r\n * @param {*} config \r\n * @returns \r\n */\r\nexport default function domWatch(tagNode, cb, config = {}) {\r\n    const MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver\r\n    config = { attributes: true, childList: true, subtree: true,once:true ,...config}\r\n    const observer = new MutationObserver(function(){\r\n        cb(...arguments)\r\n        config.once && observer.disconnect()\r\n    })\r\n    tagNode = typeof tagNode === 'string'? document.querySelector(tagNode):tagNode\r\n    observer.observe(tagNode,config )\r\n    return observer\r\n}\r\n","/**\r\n * @description 根据指定元素 查询指定最近的class的元素\r\n * @param {Element} el 目标元素\r\n * @param {String} className 查找的 class\r\n * @returns \r\n */\r\nexport default function getElementByTarget (el, className) {\r\n    // 目标元素不存在 返回 null\r\n    if(!el)return null\r\n    // 当前元素就是要查找的元素，直接返回当前元素\r\n    if (el.classList.contains(className)) return el\r\n    // 往外开始查找\r\n    let p = el.parentNode\r\n    while (true) {\r\n      if (!p.classList) return null\r\n      if (p.classList.contains(className)) return p\r\n      p = p.parentNode\r\n    }\r\n}\r\n"],"names":["setAttr","el","attrs","key","setAttribute","bindEvent","obj","ev","fn","addEventListener","attachEvent","bufferAnimation","target","offset","direction","document","querySelector","clearInterval","timer","setInterval","step","Math","ceil","style","constantAnimation","speed","debounce","func","wait","immediate","debounced","callNow","arg","arguments","context","this","timeout","clearTimeout","setTimeout","apply","cancel","fromData","o","Object","keys","reduce","p","c","append","FormData","getStyle","attr","_defineProperty","left","offsetLeft","top","offsetTop","width","offsetWidth","height","offsetHeight","currentStyle","getComputedStyle","hide","Array","from","querySelectorAll","forEach","e","display","isEllipsis","scrollHeight","scrollWidth","throttle","options","args","old","now","Date","valueOf","leading","trailing","trigger","Node","EventType","evt","createEvent","initEvent","includes","dispatchEvent","unbindEvent","removeEventListener","detachEvent","getAttr","attrName","getAttribute","error","getMaxZIndex","max","_toConsumableArray","map","i","parseInt","zIndex","bottomVisible","documentElement","clientHeight","window","scrollY","scrollToTop","scrollTop","body","requestAnimationFrame","scrollTo","smoothScroll","element","scrollIntoView","behavior","getScrollPosition","x","undefined","pageXOffset","scrollLeft","y","pageYOffset","backTop","btnId","btn","getElementById","d","b","set","onscroll","onclick","contains","selector","subSelector","getScrollXY","dynamicAddCss","cssName","prefix","Promise","resolve","link","createElement","onload","getElementsByTagName","appendChild","dynamicAddScript","scriptUrlArr","scriptUrl","script","elName","elAttrs","value","prototype","toString","call","slice","toLowerCase","isScrollBottom","isScrollerVisible","scrollerEl","wrapEl","item","scroller","wrap","activeItem","getBoundingClientRect","getElementByClassName","className","classList","parentNode","getScrollDirection","scrollX","oldScrollLeft","oldScrollTop","is","getScrollerWidth","reject","content","innerHTML","result","removeChild","cssText","selectRangeByElement","onmouseup","event","srcElement","sText","selection","getSelection","createRange","text","length","selectTextByElement","range","createTextRange","moveToElementText","select","selectNodeContents","removeAllRanges","addRange","addStyleCss","styleId","arr","targetCss","styleSheets","find","ownerNode","id","insertRule","copyText","input","execCommand","domWatch","tagNode","cb","config","MutationObserver","WebKitMutationObserver","MozMutationObserver","attributes","childList","subtree","once","observer","disconnect","observe","getElementByTarget"],"mappings":"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"}