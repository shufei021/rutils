<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DOM 相关 | Rutils</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/rutils/tool.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/rutils/assets/css/0.styles.f96f06fb.css" as="style"><link rel="preload" href="/rutils/assets/js/app.08c37883.js" as="script"><link rel="preload" href="/rutils/assets/js/3.074199d1.js" as="script"><link rel="preload" href="/rutils/assets/js/13.efc35899.js" as="script"><link rel="prefetch" href="/rutils/assets/js/10.2297d192.js"><link rel="prefetch" href="/rutils/assets/js/11.455606e6.js"><link rel="prefetch" href="/rutils/assets/js/12.1374cb41.js"><link rel="prefetch" href="/rutils/assets/js/14.47a43ad0.js"><link rel="prefetch" href="/rutils/assets/js/15.d1f39724.js"><link rel="prefetch" href="/rutils/assets/js/16.84dd6c38.js"><link rel="prefetch" href="/rutils/assets/js/17.3f2a636f.js"><link rel="prefetch" href="/rutils/assets/js/18.7721d0aa.js"><link rel="prefetch" href="/rutils/assets/js/19.0fff948b.js"><link rel="prefetch" href="/rutils/assets/js/2.97bebc6b.js"><link rel="prefetch" href="/rutils/assets/js/20.a8f67b9f.js"><link rel="prefetch" href="/rutils/assets/js/21.1d1cf1da.js"><link rel="prefetch" href="/rutils/assets/js/22.622e82a3.js"><link rel="prefetch" href="/rutils/assets/js/23.79ffa5b9.js"><link rel="prefetch" href="/rutils/assets/js/24.04fa46dd.js"><link rel="prefetch" href="/rutils/assets/js/4.e5b73c10.js"><link rel="prefetch" href="/rutils/assets/js/5.493dee27.js"><link rel="prefetch" href="/rutils/assets/js/6.c616ea8e.js"><link rel="prefetch" href="/rutils/assets/js/7.41cd74b7.js"><link rel="prefetch" href="/rutils/assets/js/8.c7620a83.js"><link rel="prefetch" href="/rutils/assets/js/9.39472a19.js">
    <link rel="stylesheet" href="/rutils/assets/css/0.styles.f96f06fb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/rutils/" class="home-link router-link-active"><img src="/rutils/tool.png" alt="Rutils" class="logo"> <span class="site-name can-hide">Rutils</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/rutils/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/rutils/library/" class="nav-link router-link-active">
  文档
</a></div><div class="nav-item"><a href="https://github.com/shufei021/rutils" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://shufei021.github.io/rdate/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  日期时间工具
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/rutils/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/rutils/library/" class="nav-link router-link-active">
  文档
</a></div><div class="nav-item"><a href="https://github.com/shufei021/rutils" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://shufei021.github.io/rdate/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  日期时间工具
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/rutils/library/" aria-current="page" class="sidebar-link">前言</a></li><li><a href="/rutils/library/base.html" class="sidebar-link">基础</a></li><li><a href="/rutils/library/array.html" class="sidebar-link">数组相关</a></li><li><a href="/rutils/library/object.html" class="sidebar-link">对象相关</a></li><li><a href="/rutils/library/number.html" class="sidebar-link">数字相关</a></li><li><a href="/rutils/library/local.html" class="sidebar-link">存储相关（localStorage）</a></li><li><a href="/rutils/library/session.html" class="sidebar-link">存储相关（sessionStorage）</a></li><li><a href="/rutils/library/string.html" class="sidebar-link">字符相关</a></li><li><a href="/rutils/library/url.html" class="sidebar-link">URL 相关</a></li><li><a href="/rutils/library/reg.html" class="sidebar-link">正则相关</a></li><li><a href="/rutils/library/dom.html" aria-current="page" class="active sidebar-link">DOM 相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#api" class="sidebar-link">API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#backtop" class="sidebar-link">backTop</a></li><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#bindevent" class="sidebar-link">bindEvent</a></li><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#unbindevent" class="sidebar-link">unbindEvent</a></li><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#trigger" class="sidebar-link">trigger</a></li><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#bottomvisible" class="sidebar-link">bottomVisible</a></li><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#contains" class="sidebar-link">contains</a></li><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#debounce" class="sidebar-link">debounce</a></li><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#throttle" class="sidebar-link">throttle</a></li><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#dynamicaddcss" class="sidebar-link">dynamicAddCss</a></li><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#dynamicaddscript" class="sidebar-link">dynamicAddScript</a></li><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#getattr" class="sidebar-link">getAttr</a></li><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#getmaxzindex" class="sidebar-link">getMaxZIndex</a></li><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#getscrollposition" class="sidebar-link">getScrollPosition</a></li><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#getscrollxy" class="sidebar-link">getScrollXY</a></li><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#getstyle" class="sidebar-link">getStyle</a></li><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#setattr" class="sidebar-link">setAttr</a></li><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#hide" class="sidebar-link">hide</a></li><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#isellipsis" class="sidebar-link">isEllipsis</a></li><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#loadscript" class="sidebar-link">loadScript</a></li><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#smoothscroll" class="sidebar-link">smoothScroll</a></li><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#isscrollbottom" class="sidebar-link">isScrollBottom</a></li><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#addstylecss" class="sidebar-link">addstylecss</a></li><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#getscrolldirection" class="sidebar-link">getScrollDirection</a></li><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#getscrollerwidth" class="sidebar-link">getScrollerWidth</a></li><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#selectrangebyelement" class="sidebar-link">selectRangeByElement</a></li><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#selecttextbyelement" class="sidebar-link">selectTextByElement</a></li><li class="sidebar-sub-header"><a href="/rutils/library/dom.html#copytext" class="sidebar-link">copyText</a></li></ul></li></ul></li><li><a href="/rutils/library/file.html" class="sidebar-link">文件相关</a></li><li><a href="/rutils/library/other.html" class="sidebar-link">其它</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="dom-相关"><a href="#dom-相关" class="header-anchor">#</a> DOM 相关</h1> <h2 id="api"><a href="#api" class="header-anchor">#</a> API</h2> <table><thead><tr><th>名称</th> <th style="text-align:left;">描述</th></tr></thead> <tbody><tr><td><a href="#backtop">backTop</a></td> <td style="text-align:left;">回到顶部</td></tr> <tr><td><a href="#bindevent">bindEvent</a></td> <td style="text-align:left;">绑定事件</td></tr> <tr><td><a href="#unbindevent">unbindEvent</a></td> <td style="text-align:left;">移除事件</td></tr> <tr><td><a href="#trigger">trigger</a></td> <td style="text-align:left;">触发原生事件、自定义事件</td></tr> <tr><td><a href="#bottomvisible">bottomVisible</a></td> <td style="text-align:left;">滚动条情况下，页面最底部是否出现在可视区域内</td></tr> <tr><td><a href="#contains">contains</a></td> <td style="text-align:left;">DOM 元素 <code>A</code> 是否包含在元素 <code>B</code> 节点中，常适用于 outclick</td></tr> <tr><td><a href="#debounce">debounce</a></td> <td style="text-align:left;">防抖函数</td></tr> <tr><td><a href="#throttle">throttle</a></td> <td style="text-align:left;">节流函数</td></tr> <tr><td><a href="#dynamicaddcss">dynamicAddCss</a></td> <td style="text-align:left;">动态加载 css</td></tr> <tr><td><a href="#dynamicaddscript">dynamicAddScript</a></td> <td style="text-align:left;">动态加载 js 脚本</td></tr> <tr><td><a href="#getattr">getAttr</a></td> <td style="text-align:left;">获取元素属性值</td></tr> <tr><td><a href="#getmaxzindex">getMaxZIndex</a></td> <td style="text-align:left;">获取 DOM 中 <code>z-index</code> 最高的元素</td></tr> <tr><td><a href="#getscrollposition">getScrollPosition</a></td> <td style="text-align:left;">获取元素的滚动位置坐标</td></tr> <tr><td><a href="#getscrollxy">getScrollXY</a></td> <td style="text-align:left;">获取网页被卷去的位置</td></tr> <tr><td><a href="#getstyle">getStyle</a></td> <td style="text-align:left;">获取元素样式，如：<code>width</code>、<code>height</code>、<code>padding</code>、<code>margin</code>等</td></tr> <tr><td><a href="#hide">hide</a></td> <td style="text-align:left;">隐藏元素</td></tr> <tr><td><a href="#isellipsis">isEllipsis</a></td> <td style="text-align:left;">内容是否超出省略</td></tr> <tr><td><a href="#loadscript">loadScript</a></td> <td style="text-align:left;">加载外部脚本</td></tr> <tr><td><a href="#smoothscroll">smoothScroll</a></td> <td style="text-align:left;">顺滑的滚动到当前元素</td></tr> <tr><td><a href="#isscrollbottom">isScrollBottom</a></td> <td style="text-align:left;">元素是否滚动到最底部</td></tr> <tr><td><a href="#addstylecss">addStyleCss</a></td> <td style="text-align:left;">添加style的css</td></tr> <tr><td><a href="#getscrolldirection">getScrollDirection</a></td> <td style="text-align:left;">获取滚动方向</td></tr> <tr><td><a href="#getscrollerwidth">getScrollerWidth</a></td> <td style="text-align:left;">获取滚动条宽带</td></tr> <tr><td><a href="#selectrangebyelement">selectRangeByElement</a></td> <td style="text-align:left;">通过元素选中范围值</td></tr> <tr><td><a href="#selecttextbyelement">selectTextByElement</a></td> <td style="text-align:left;">通过元素选中文本</td></tr> <tr><td><a href="#copytext">copyText</a></td> <td style="text-align:left;">复制文本内容</td></tr></tbody></table> <h3 id="backtop"><a href="#backtop" class="header-anchor">#</a> backTop</h3> <blockquote><p>回到顶部</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">backTop</span><span class="token punctuation">(</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​ 1.<code>value1</code> { string } 回到顶部的元素 ID</p> <p>​ 1.<code>value2</code> { string } 按钮距离底部间距, 默认为：<code>100</code></p> <p><strong>返回值：</strong></p> <p>​ <code>void</code></p> <p>​ 文件流</p> <p><strong>例子：</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>go-top-btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>回到顶部<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    rutils<span class="token punctuation">.</span><span class="token function">backTop</span><span class="token punctuation">(</span><span class="token string">'#go-top-btn'</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="bindevent"><a href="#bindevent" class="header-anchor">#</a> bindEvent</h3> <blockquote><p>绑定 DOM 事件</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">bindEvent</span><span class="token punctuation">(</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">,</span> value3<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​ 1.<code>value1</code> {element} 绑定元素</p> <p>​ 2.<code>value2</code> {string} 事件名称，不需要加<code>on</code>前缀</p> <p>​ 3.<code>value3</code> {function} 事件回调函数</p> <p><strong>返回值：</strong></p> <p>​ <code>void</code></p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">bindEvent</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token comment">//event</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="unbindevent"><a href="#unbindevent" class="header-anchor">#</a> unbindEvent</h3> <blockquote><p>解绑事件监听</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">unbindEvent</span><span class="token punctuation">(</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">,</span> value3<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​ 1.<code>value1</code> {element} 元素</p> <p>​ 2.<code>value2</code> {string} 事件名称、类型</p> <p>​ 3.<code>value3</code> {function} 事件回调处理函数</p> <p><strong>返回值：</strong></p> <p>​ <code>void</code></p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#test-btn'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">handlerClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'btn点击事件触发'</span><span class="token punctuation">)</span>
    rutils<span class="token punctuation">.</span><span class="token function">unbindEvent</span><span class="token punctuation">(</span>btn<span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">,</span> handlerClick<span class="token punctuation">)</span> <span class="token comment">// 移除事件</span>
<span class="token punctuation">}</span>
rutils<span class="token punctuation">.</span><span class="token function">bindEvent</span><span class="token punctuation">(</span>btn<span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">,</span> handlerClick<span class="token punctuation">)</span> <span class="token comment">// 绑定事件</span>
</code></pre></div><h3 id="trigger"><a href="#trigger" class="header-anchor">#</a> trigger</h3> <blockquote><p>手动触发已有和自定义事件类型函数</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​ 1.<code>value1</code> {element} 元素</p> <p>​ 2.<code>value2</code> {string} 事件名称、类型</p> <p><strong>返回值：</strong></p> <p>​ <code>void</code></p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#test-btn'</span><span class="token punctuation">)</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'btn点击事件触发'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
rutils<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span>btn<span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">)</span> <span class="token comment">// 触发按钮的click事件</span>
</code></pre></div><h3 id="bottomvisible"><a href="#bottomvisible" class="header-anchor">#</a> bottomVisible</h3> <blockquote><p>滚动条情况下，页面最底部是否出现在可视区域内 。<span style="color:red;">日常用于：上拉加载更多</span></p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">bottomVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​ 无</p> <p><strong>返回值：</strong></p> <p>​ <code>boolean</code></p> <p>​ true：已出现在可视区域 | false 未出现在可视区域</p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 滚动到底部分页</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
    <span class="token string">'scroll'</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> isVisible <span class="token operator">=</span> rutils<span class="token punctuation">.</span><span class="token function">bottomVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>isVisible<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'下一页数据加载中...'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token boolean">false</span>
<span class="token punctuation">)</span>
</code></pre></div><h3 id="contains"><a href="#contains" class="header-anchor">#</a> contains</h3> <blockquote><p>DOM 元素 <code>A</code> 是否包含在元素 <code>B</code> 节点中，常适用于 outclick</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​ 1.<code>value1</code> {element|string} 父容器也就是 B，选择器或者元素自身；</p> <p>​ 1.<code>value2</code> {element|string} 子内容；</p> <p><strong>返回值：</strong></p> <p>​ <code>boolean</code></p> <p>​ true: 包含在父级中 | false:不在传入的容器中</p> <p><strong>例子：</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>father-wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sub-content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我就是子内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">// 1.传递选择器</span>
    rutils<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'.father-wrap'</span><span class="token punctuation">,</span> <span class="token string">'.sub-content'</span><span class="token punctuation">)</span>
    <span class="token comment">// =&gt; true</span>

    <span class="token comment">// 2.传递元素</span>
    rutils<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.father-wrap'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.sub-content'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// =&gt; true</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="debounce"><a href="#debounce" class="header-anchor">#</a> debounce</h3> <blockquote><p>防抖函数，日常用语滚动防抖、input 输入防抖等..</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">debounce</span><span class="token punctuation">(</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">,</span> value3<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​ 1.<code>value1</code> {function} 事件处理函数</p> <p>​ 1.<code>value2</code> {number} 事件响应函数执行需求的单位时间, 单位：毫秒</p> <p>​ 1.<code>?value3</code> {boolean} 是否立即执行</p> <p><strong>返回值：</strong></p> <p>​ <code>function</code></p> <p>​ 借助闭包二次包装后的事件处理函数</p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 1.不立即执行</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
    <span class="token string">'scroll'</span><span class="token punctuation">,</span>
    rutils<span class="token punctuation">.</span><span class="token function">debounce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'500毫秒后 go go go~'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token boolean">false</span>
<span class="token punctuation">)</span>

<span class="token comment">// 2.立即执行</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
    <span class="token string">'scroll'</span><span class="token punctuation">,</span>
    rutils<span class="token punctuation">.</span><span class="token function">debounce</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'直接 go go go~'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token number">500</span><span class="token punctuation">,</span>
        <span class="token boolean">true</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token boolean">false</span>
<span class="token punctuation">)</span>
</code></pre></div><h3 id="throttle"><a href="#throttle" class="header-anchor">#</a> throttle</h3> <blockquote><p>节流</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">throttle</span><span class="token punctuation">(</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">,</span> value3<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​ 1.<code>value1</code> {function} 事件处理函数</p> <p>​ 2.<code>value2</code> {number} 事件响应函数执行需求的单位时间, 单位：毫秒</p> <p>​ 3.<code>?value3</code> {object} 配置对象</p> <p>​ 3-1.<code>value3.immediate</code> {boolean} 是否为立即执行</p> <p>​ 3-2.<code>value3.trailing</code> {boolean} 最后还要执行一次</p> <p><strong>返回值：</strong></p> <p>​ <code>function</code></p> <p>​ 借助闭包二次包装后的事件处理函数</p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 1.不立即执行</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
    <span class="token string">'scroll'</span><span class="token punctuation">,</span>
    rutils<span class="token punctuation">.</span><span class="token function">throttle</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'500毫秒后 go go go~'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token boolean">false</span>
<span class="token punctuation">)</span>

<span class="token comment">// 2.立即执行</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
    <span class="token string">'scroll'</span><span class="token punctuation">,</span>
    rutils<span class="token punctuation">.</span><span class="token function">throttle</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'直接 go go go~'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token number">500</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            immediate<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token boolean">false</span>
<span class="token punctuation">)</span>
</code></pre></div><h3 id="dynamicaddcss"><a href="#dynamicaddcss" class="header-anchor">#</a> dynamicAddCss</h3> <blockquote><p>动态添加 css 文件</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">dynamicAddCss</span><span class="token punctuation">(</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​ 1.<code>value1</code> {string} css 文件名，无须写后缀</p> <p>​ 2.<code>value2</code> {string} css 文件前缀</p> <p><strong>返回值：</strong></p> <p>​ <code>promise&lt;element&gt;</code></p> <p>​ 返回一个 link 标签</p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 引入当前项目中的，common.css文件</span>
rutils
    <span class="token punctuation">.</span><span class="token function">dynamicAddCss</span><span class="token punctuation">(</span><span class="token string">'./style/common'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">el</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'css引入成功！'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'css引入失败：'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="dynamicaddscript"><a href="#dynamicaddscript" class="header-anchor">#</a> dynamicAddScript</h3> <blockquote><p>动态异步加载 <code>script</code> 脚本</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">dynamicAddScript</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​ 1.<code>value</code> {string | array} 脚本地址，多个则传入数组</p> <p><strong>返回值：</strong></p> <p>​ <code>promise&lt;void&gt;</code></p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 1.单个加载脚本</span>
rutils
    <span class="token punctuation">.</span><span class="token function">dynamicAddScript</span><span class="token punctuation">(</span><span class="token string">'www.baidu.com/source/js/test.js'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'脚本加载成功'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'脚本加载失败：'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 1.多个加载脚本,传入数组</span>
rutils
    <span class="token punctuation">.</span><span class="token function">dynamicAddScript</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'www.baidu.com/source/js/test.js'</span><span class="token punctuation">,</span> <span class="token string">'www.baidu.com/source/js/test2.js'</span><span class="token punctuation">,</span> <span class="token string">'www.baidu.com/source/js/test3.js'</span><span class="token punctuation">,</span> <span class="token string">'www.baidu.com/source/js/test4.js'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'脚本加载成功'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'脚本加载失败：'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="getattr"><a href="#getattr" class="header-anchor">#</a> getAttr</h3> <blockquote><p>获取元素的属性值</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">getAttr</span><span class="token punctuation">(</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​ 1.<code>value1</code> {element} 元素</p> <p>​ 2.<code>value2</code> {string} 属性 key，如： <code>class</code></p> <p><strong>返回值：</strong></p> <p>​ <code>string</code></p> <p>​ 格式化后的文件大小，如：30KB、2MB、50GB....</p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">getAttr</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'id'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="getmaxzindex"><a href="#getmaxzindex" class="header-anchor">#</a> getMaxZIndex</h3> <blockquote><p>获取 DOM 中 <code>z-index</code> 最高的元素</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">getMaxZIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​ 无</p> <p><strong>返回值：</strong></p> <p>​ <code>number</code></p> <p>​ 计算层级后的最大值</p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">getMaxZIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// =&gt; 17</span>
</code></pre></div><h3 id="getscrollposition"><a href="#getscrollposition" class="header-anchor">#</a> getScrollPosition</h3> <blockquote><p>获取元素的滚动位置坐标</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">getScrollPosition</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​ 1.<code>value</code> {element} 元素</p> <p><strong>返回值：</strong></p> <p>​ <code>object</code></p> <div class="language- extra-class"><pre class="language-text"><code>{
	x: 0,
	y: 300
}
</code></pre></div><p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">getScrollPosition</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#container'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// =&gt; {x: 0, y: 300}</span>
</code></pre></div><h3 id="getscrollxy"><a href="#getscrollxy" class="header-anchor">#</a> getScrollXY</h3> <blockquote><p>获取网页被卷去的位置</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">getScrollXY</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​ 无</p> <p><strong>返回值：</strong></p> <p>​ <code>object</code></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 分别为offsetLeft，offsetTop</span>
<span class="token punctuation">{</span>
  x<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  y<span class="token operator">:</span>  <span class="token number">200</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">getScrollXY</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="getstyle"><a href="#getstyle" class="header-anchor">#</a> getStyle</h3> <blockquote><p>获取元素样式，如：<code>width</code>、<code>height</code>、<code>padding</code>、<code>margin</code>等</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">getStyle</span><span class="token punctuation">(</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​ 1.<code>value1</code> {element} 元素</p> <p>​ 1.<code>value2</code> {string} 属性 key</p> <p><strong>返回值：</strong></p> <p>​ <code>string</code></p> <p>​ 如：width、height、padding、margin 等</p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">getStyle</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">,</span> <span class="token string">'width'</span><span class="token punctuation">)</span>
<span class="token comment">// =&gt; &quot;1290px&quot;</span>

rutils<span class="token punctuation">.</span><span class="token function">getStyle</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">,</span> <span class="token string">'color'</span><span class="token punctuation">)</span>
<span class="token comment">// =&gt; &quot;rgb(44, 62, 80)&quot;</span>
</code></pre></div><h3 id="setattr"><a href="#setattr" class="header-anchor">#</a> setAttr</h3> <blockquote><p>设置元素属性，如：class、id、style 等内容</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">setAttr</span><span class="token punctuation">(</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​ 1.<code>value1</code> {element} 元素</p> <p>​ 1.<code>value2</code> {object} 设置的属性对象</p> <p><strong>返回值：</strong></p> <p>​ <code>element</code></p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">setAttr</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>
    id<span class="token operator">:</span> <span class="token string">'test-id'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// =&gt; body</span>
</code></pre></div><h3 id="hide"><a href="#hide" class="header-anchor">#</a> hide</h3> <blockquote><p>隐藏元素</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​ 1.<code>value</code> {string} 元素选择器</p> <p><strong>返回值：</strong></p> <p>​ <code>string</code></p> <p>​ 如：width、height、padding、margin 等</p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token string">'.box'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="isellipsis"><a href="#isellipsis" class="header-anchor">#</a> isEllipsis</h3> <blockquote><p>内容是否超出省略</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">isEllipsis</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​ 1.<code>value</code> {element} 元素</p> <p><strong>返回值：</strong></p> <p>​ <code>boolean</code></p> <p>​ true: 超出 | false:未超出</p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">isEllipsis</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
<span class="token comment">// =&gt; false</span>
</code></pre></div><h3 id="loadscript"><a href="#loadscript" class="header-anchor">#</a> loadScript</h3> <blockquote><p>动态加载外部 js 脚本</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">loadScript</span><span class="token punctuation">(</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​ 1.<code>value1</code> {element} 脚本地址 UrutilsL</p> <p>​ 2.<code>value2</code> {object} 属性对象</p> <p><strong>返回值：</strong></p> <p>​ <code>promise&lt;element&gt;</code></p> <p>​ 由于操作涉及到异步，返回的是 Promise.resolve(res), res 为 script 元素</p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 1.默认使用</span>
rutils
    <span class="token punctuation">.</span><span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token string">'www.baiu.com/source/js/common.js'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">el</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'加载成功：'</span><span class="token punctuation">,</span> el<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'加载失败：'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 2.设置属性</span>
rutils
    <span class="token punctuation">.</span><span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token string">'www.baiu.com/source/js/common.js'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        id<span class="token operator">:</span> <span class="token string">'load-script'</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'sync-load-script'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">el</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'加载成功：'</span><span class="token punctuation">,</span> el<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'加载失败：'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="smoothscroll"><a href="#smoothscroll" class="header-anchor">#</a> smoothScroll</h3> <blockquote><p>顺滑到某个元素</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">smoothScroll</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​ 1.<code>value</code> {element} 元素</p> <p><strong>返回值：</strong></p> <p>​ 无</p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">smoothScroll</span><span class="token punctuation">(</span><span class="token string">'.test-btn'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="isscrollbottom"><a href="#isscrollbottom" class="header-anchor">#</a> isScrollBottom</h3> <blockquote><p>判断元素是否滚动到最低部，常用语底部加载更多</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rutils<span class="token punctuation">.</span><span class="token function">isScrollBottom</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数：</strong></p> <p>​ 1.<code>value</code> {element | string} 元素或选择器</p> <p><strong>返回值：</strong></p> <p>​ <code>boolean</code></p> <p>​ true: 底部 | false: 非底部</p> <p><strong>例子：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 1.选择器</span>
rutils<span class="token punctuation">.</span><span class="token function">isScrollBottom</span><span class="token punctuation">(</span><span class="token string">'.scoll-wrap'</span><span class="token punctuation">)</span>
<span class="token comment">// =&gt; true</span>

<span class="token comment">// 2.元素</span>
rutils<span class="token punctuation">.</span><span class="token function">isScrollBottom</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.scoll-wrap'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// =&gt; true</span>
</code></pre></div><h3 id="addstylecss"><a href="#addstylecss" class="header-anchor">#</a> addstylecss</h3> <blockquote><p>添加style中的css，常用于rem转换后的class类，再重置成 像px单位</p></blockquote> <p><strong>语法</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">addStyleCss</span><span class="token punctuation">(</span>styleId<span class="token punctuation">,</span>arr<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
 *  根据style 的id 找到对应的style 标签，在里面插入css
 * @param {*} styleId : style 的 id 值
 * @param {*} arr ：样式列表
 * @returns viod
 */</span>
</code></pre></div><h3 id="getscrolldirection"><a href="#getscrolldirection" class="header-anchor">#</a> getScrollDirection</h3> <blockquote><p>获取滚动方向</p></blockquote> <p><strong>语法</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">getScrollDirection</span><span class="token punctuation">(</span>scroller<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
 * @description 获取滚动方向
 * @param { Element | HTMLElement | Window } scroller 滚动容器元素
 * @returns Object {x,y}
 */</span>
</code></pre></div><h3 id="getscrollerwidth"><a href="#getscrollerwidth" class="header-anchor">#</a> getScrollerWidth</h3> <blockquote><p>获取滚动条宽度</p></blockquote> <p><strong>语法</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">getScrollerWidth</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
 * 获取滚动条宽度
 * @param {*} el 滚动容器,非必填
 * @returns 滚动条宽度
 */</span>
</code></pre></div><p><strong>示例</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 如果是异步设置了滚动条宽度，且传入了el，则返回值是一个Promise对象</span>
rutis<span class="token punctuation">.</span><span class="token function">getScrollerWidth</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">width</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>width<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 如果想直接获取滚动条宽度，什么不需求传，返回值就是滚动条的宽度值</span>
rutis<span class="token punctuation">.</span><span class="token function">getScrollerWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="selectrangebyelement"><a href="#selectrangebyelement" class="header-anchor">#</a> selectRangeByElement</h3> <blockquote><p>主动选中文本范围 触发回调</p></blockquote> <p><strong>语法</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">selectRangeByElement</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> fn<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
 * @description 通过元素进行范围选中
 * @param {Element} o 
 * @param {Function} fn 
 */</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>rutils<span class="token punctuation">.</span><span class="token function">selectByElement</span><span class="token punctuation">(</span>document<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">txt<span class="token punctuation">,</span> tar</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;文字属于&quot;</span> <span class="token operator">+</span> tar<span class="token punctuation">.</span>tagName <span class="token operator">+</span> <span class="token string">&quot;元素，选中内容为：&quot;</span> <span class="token operator">+</span> txt<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="selecttextbyelement"><a href="#selecttextbyelement" class="header-anchor">#</a> selectTextByElement</h3> <blockquote><p>手动选中元素里面的内容函数</p></blockquote> <p><strong>语法</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">selectTextByElement</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
 * @description 设置元素里面文字呈选中状态
 * @param {Element | String} element 
 */</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// html </span>

<span class="token comment">/*
&lt;body&gt;
 &lt;div class=&quot;container&quot;&gt;js手动选中元素里面的内容函数&lt;/div&gt;
&lt;/body&gt;

*/</span>
rutils<span class="token punctuation">.</span><span class="token function">selectTextByElement</span><span class="token punctuation">(</span><span class="token string">'.container'</span><span class="token punctuation">)</span><span class="token comment">// 类 container 元素里面的内容都被选中</span>
</code></pre></div><h3 id="copytext"><a href="#copytext" class="header-anchor">#</a> copyText</h3> <blockquote><p>复制文本内容</p></blockquote> <p><strong>语法</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">copyText</span><span class="token punctuation">(</span>copyContentStr<span class="token punctuation">)</span>
</code></pre></div><p><strong>参数</strong></p> <p><code>@param {String} copyContentStr:</code> 传入的复制的文本内容</p> <p><strong>示例</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>rutils<span class="token punctuation">.</span><span class="token function">copyText</span><span class="token punctuation">(</span><span class="token string">'测试的文本内容'</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">4/11/2022, 4:10:02 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/rutils/library/reg.html" class="prev">
        正则相关
      </a></span> <span class="next"><a href="/rutils/library/file.html">
        文件相关
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/rutils/assets/js/app.08c37883.js" defer></script><script src="/rutils/assets/js/3.074199d1.js" defer></script><script src="/rutils/assets/js/13.efc35899.js" defer></script>
  </body>
</html>
